function structure(){var e=[templates.nav,templates.main];for(template in e){var t=document.importNode(e[template].content,!0);$("body").append(t)}}function landing_page(){loadImage(templates.landing_page.content.querySelector("img"),"images/group_003.jpg"),$("#template_container").append(document.importNode(templates.landing_page.content,!0))}function register(){var e=$.getScript("https://cdn.firebase.com/js/client/2.2.1/firebase.js");e.then(function(){AddScript("js/auth/register.js"),$("#template_container").append(document.importNode(templates.register.content,!0))},function(e){console.log(e)})}function email_registration(){var e=$.getScript("https://code.jquery.com/ui/1.12.0-rc.2/jquery-ui.min.js");e.then(function(){AddScript("js/auth/register_email.js"),$("#template_container").append(document.importNode(templates.manual_registration.content,!0))},function(e){console.log(e)})}function AddScript(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.body.appendChild(t),document.body.removeChild(document.body.lastChild)}function loadImage(e,t){e.src=t,$(e).load(function(){console.log("loaded")})}function events(){var e=templates.events.content,t=templates.new_event_button.content;$("#template_container").append(document.importNode(e,!0)),$("#template_container").append(document.importNode(t,!0))}function new_event_form(){var e=templates.new_event_form.content;$("#template_container").append(document.importNode(e,!0)),$("select").material_select(),$(".datepicker").pickadate({selectMonths:!0,selectYears:15})}function supportsTemplate(){return"content"in document.createElement("template")}function route(e){switch($("#template_container").html(""),$("#template_container").hide(0),history.pushState(view,e,e),e){case"events":events(),$("#template_container").show(500);break;case"manual_registration":email_registration(),$("#template_container").show(500);break;case"register":register(),$("#template_container").show(500);break;case"landing_page":landing_page(),$("#template_container").show(500);break;case"structure":structure(),$("#template_container").show(500);break;case"new_event_form":new_event_form(),$("#template_container").show(500);break;default:structure()}}var view;$(function(){supportsTemplate()?(structure(),window.onload=function(){void 0!=view?route(view):landing_page(),$(".button-collapse").sideNav()},window.addEventListener("popstate",function(e){var t=window.location.pathname.split("/"),n=[];$.each(t,function(e,t){-1===$.inArray(t,n)&&n.push(t)});var o=n[t.length-1];view=o,void 0!=view?route(view):landing_page()})):console.log("not good")});var templates={nav:document.querySelector("#nav_template"),main:document.querySelector("#main_template"),landing_page:document.querySelector("#landing_template"),register:document.querySelector("#register_template"),events:document.querySelector("#events_template"),new_event_button:document.querySelector("#new_event_button"),manual_registration:document.querySelector("#manual_registration"),new_event_form:document.querySelector("#new_event_form")};